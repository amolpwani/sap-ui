# Delete Button Functionality Location

## Where is the Delete Button Code?

The **Delete button** you see in the Object Page is **NOT in your project code**. It's automatically generated by the **SAP Fiori Elements framework**.

### Location:
- **Framework Component**: `sap.fe.templates.ObjectPage`
- **Built-in Action**: The Delete button is a standard action provided by Fiori Elements
- **Your Project**: No custom delete handler exists (it uses framework default)

### How to Find the Actual Code:

1. **In Browser DevTools:**
   - Open browser DevTools (F12)
   - Go to Sources tab
   - Search for: `sap.fe.templates.ObjectPage`
   - Look for `onDelete` method

2. **Framework Location:**
   - The code is in: `sap.fe.templates.ObjectPage` controller
   - Typically in: `sap.fe.templates.ObjectPage.controller.js`
   - This is part of the UI5 framework library

### Delete Button Pattern (What the Framework Uses):

```javascript
// This is the pattern used by Fiori Elements Delete button
MessageBox.warning("Delete object {id} \"{name}\"?", {
    actions: [MessageBox.Action.DELETE, MessageBox.Action.CANCEL],
    emphasizedAction: MessageBox.Action.DELETE,
    onClose: function(sAction) {
        if (sAction === MessageBox.Action.DELETE) {
            // Delete the object
            oModel.delete(oContext.getPath(), {
                success: function() {
                    MessageToast.show("Object deleted successfully.");
                    
                    // Navigate back using History
                    var oHistory = History.getInstance();
                    var sPreviousHash = oHistory.getPreviousHash();
                    if (sPreviousHash !== undefined) {
                        window.history.go(-1);
                    } else {
                        oRouter.navTo("ListRoute", {}, true);
                    }
                }
            });
        }
    }
});
```

### Your Success Message (Now Using Same Pattern):

The `CustomFieldsHandler.js` now uses the **exact same pattern**:

```javascript
MessageBox.success("Custom fields saved successfully!", {
    title: "Success",
    onClose: function(sAction) {
        // Navigate using History (same as Delete button)
        var oHistory = History.getInstance();
        var sPreviousHash = oHistory.getPreviousHash();
        if (sPreviousHash !== undefined) {
            window.history.go(-1);
        } else {
            oRouter.navTo("QuotationHeaderList", {}, true);
        }
    }
});
```

### Key Differences:

| Delete Button | Success Message |
|--------------|----------------|
| `MessageBox.warning` | `MessageBox.success` |
| `actions: [DELETE, CANCEL]` | `actions: [OK]` (automatic) |
| Deletes object | Saves object |
| Navigates after delete | Navigates after save |

### To Override Delete Button (Optional):

If you want to customize the Delete button behavior, create a controller extension:

**File**: `webapp/ext/controller/QuotationHeaderObjectPageExt.controller.js`

```javascript
sap.ui.define([
    "sap/ui/core/mvc/ControllerExtension"
], function(ControllerExtension) {
    return ControllerExtension.extend("com.ford.quotation.ui.ext.controller.QuotationHeaderObjectPageExt", {
        override: {
            onDelete: function() {
                // Your custom delete logic here
            }
        }
    });
});
```

Then register it in `manifest.json` under the Object Page target settings.

---

**Note**: The Delete button code is in the framework, not in your project. The pattern shown above is what the framework uses internally.
